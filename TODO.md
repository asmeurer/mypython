# TODOs

- operate-and-get-next (C-o) (https://github.com/jonathanslenders/python-prompt-toolkit/issues/416)
- Fix scrolling with mouse support
- Better packaging
- Pygments thinks matmul @ is a decorator (https://bitbucket.org/birkenfeld/pygments-main/issues/1194/support-python-35s-matrix-multiplication)
- pygments won't color True/False/None separately
- pygments won't color variable names separately
- pygments doesn't color """ yellow until it is completed
- Have to press TAB too many times to complete
- Spellcheck on NameError
- Jedi completion within multiline inputs
- Better indication when no tab completions are found
- History browser (like ptpython)
- Different continuation prompt for soft- and hard-wrapping.
- Variable definitions in %timeit calls don't apply to the rest of the session
- Tests for multiline history search
- Deleting selected text messes up indentation (https://github.com/jonathanslenders/python-prompt-toolkit/issues/324)
- pudb inside mypython doesn't work
- Cursor position with M-;
- Load the cat asynchronously
- If pudb crashes mypython crashes
- Magics at end of multiline?
- Python 3.6
- Mypython doesn't run in the current conda env
- Tests for command queue
- Completion is too damn slow
- Yanked text gets removed from kill ring too easily
- Garbage when pasting multiple lines
- Keep track of execution time of each prompt
- Selection is disabled after one C-c <
- LaTeX math
- Clear mypython variables when leaving PuDB shell
- Add key to hide prompts
- Confusing when line is exactly the terminal width
- Enter in the middle of a line in multiline tries to execute
- Some kind of session object
- Make the doctest mode session local (part of the builtins)
- TAB in the middle of a line should indent
- Make the command queue not use input
- Should not allow newline inside single quote string, even in multiline
- Forward/backward sexp doesn't work unless it's on a parenthesis
- Print %time time after the output
- Add line profiler magic
- SyntaxError from the tokenizing functions on invalid # -*- coding: invalid -*-
- tokenize based dedent
- Extra indentation when pasting a function from a doctest
- Importing pyplot causes Python app to become focused
- Make In a list like IPython?
- Multiline prompt paste fails when there are no continuation prompts
- Newlines at the end of the prompt not being cleared from history (https://github.com/prompt-toolkit/python-prompt-toolkit/pull/800)
- Issue pasting multiline prompt with spaces after prompts
- Broken pretty printing with solveset(log(x) - y, x)
- Regexes don't work with Unicode characters correctly
  (https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words)
- dir completion includes global names on attribute completion
- Add line profiler support
- Fix pudb timeout stringifier
- Indentation error pasting from multiline IPython prompt
- Sort completions case sensitively if the text typed has an uppercase letter
- Split out return value from sys.stdout.write('test')
- Issue pasting multiple lines with typeahead
- Automatic indentation after indenting closing triple quoted string
- Make tab work like in emacs
- C-c > indentation removes selection
- Sometimes syntax errors can have an offset of 0
- Add %pager magic
- mypython line has smart_eval in traceback from %pudb
- paste magic should strip leading whitespace from IPython prompts
- numba exceptions sometimes show <mypython> in doctest mode (https://github.com/numba/numba/issues/4542)
- Use a cleaner way of isolating variables in magics
- No dircompletion on doctree objects
- exit() inside of pudb kills the process
- Shift down does not work in Linux
- Files are not flushed at exit
- ? should fail if the input is not an expression
- C-v M-v shortcuts that work more like emacs
- Match indentation on paste
- Traceback on %timeit doesn't show line of code
- Python 3.8 test failures
- Allow dircompletion to work with getitem
- Bad highlighting on unclosed multiline string with newlines at the end
- Issues with 'ðŸŸ '
- Wrong highlighting for undefined variable in f-string with formatting
  f"{res!r}" (https://github.com/PyCQA/pyflakes/issues/577)
- Should the last statement in a with block be the Out if it is an expression?
- Enable h5py completions
- NumPy deprecation warnings (`a[[10], 0:0]`) don't show `__main__` in doctest mode
- "Out" is shown when repr() raises an exception
- Don't pyflakes partial code ending with ? inside of a string
- Matplotlib app opens when running %timeit
- Error with %timeit plot when there was only 1 loop
- {a: 1, a: 2} warning highlights to the end
- Delete doesn't delete indentation like emacs
- M-; doesn't insert a comment character on a blank line
- Fix https://github.com/prompt-toolkit/python-prompt-toolkit/pull/1010
- Import hook shows up in tracebacks
- breakpoint() doesn't work correctly if it is nested
- Add zap-to-char
- Make it easier to navigate history from sessions from other tabs
- Cannot find the source file for numpy functions (e.g., np.linalg.matrix_rank)
- Deprecation warning from seaborn
- matching_parens("{(}}", allow_intermediary_mismatches=True) should not
  highlight the starting {
- Make doctest mode show >>> instead of ... where the normal interpreter would
- Handle globs in %ls
- Stop paste execution on exception
- Can we make %history faster?
- Syntax highlight warnings
- Enable all deprecation warnings
- Cannot add newline to multiline statement when there is an unclosed string
- pyflakes errors with
  ```
  print(f"""
  {a}""")
  ```
- Add GitHub Actions CI
- Update matplotlib interactive plotting stuff (copy from latest IPython)
- pickle.dumps does not work for classes defined in __main__

## 2.0 TODOs

- Make all keybindings assign a Document
- Figure out how to set the prompt-toolkit exception handler
- Jedi warnings printed to terminal during completion (`simplify(x).TAB`)
